name: Create Baby Vibra Project Board

on:
  workflow_dispatch:

jobs:
  create_project:
    runs-on: ubuntu-latest

    steps:
      - name: Create GitHub Project
        uses: peter-evans/create-project@v2
        id: project
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          name: Baby Vibra Kanban

      - name: Add Columns
        uses: peter-evans/create-project-column@v1
        id: todo
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          project-number: ${{ steps.project.outputs.project_number }}
          name: To Do

      - name: Add Doing Column
        uses: peter-evans/create-project-column@v1
        id: doing
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          project-number: ${{ steps.project.outputs.project_number }}
          name: Doing

      - name: Add Done Column
        uses: peter-evans/create-project-column@v1
        id: done
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          project-number: ${{ steps.project.outputs.project_number }}
          name: Done

      - name: Create Cards in To-Do
        uses: peter-evans/create-project-card@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          column-id: ${{ steps.todo.outputs.column_id }}
          note: |
            ğŸ”µ Set up landing page: login/register UI
            ğŸ”µ Add user authentication flow (Supabase Auth)
            ğŸ”µ Add session persistence (localStorage token)
            ğŸ”µ Dashboard: display V Points + Video Pass count
            ğŸ”µ Transfer Points page (user â†’ user)
            ğŸ”µ Validate usernames before transfer
            ğŸ”µ Supabase function: transfer points
            ğŸ”µ Exchange / Withdrawal request page
            ğŸ”µ Admin Deskman UI: approve withdrawals
            ğŸ”µ Admin Deskman UI: send bulk points
            ğŸ”µ Watch Videos section
            ğŸ”µ Give 1 Video Pass per ad viewed
            ğŸ”µ Allow user to watch videos only when passes > 0
            ğŸ”µ Referral page + referral link
            ğŸ”µ Referral reward logic (10 invites â†’ V points)

      - name: Create Cards in Doing
        uses: peter-evans/create-project-card@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          column-id: ${{ steps.doing.outputs.column_id }}
          note: |
            ğŸŸ¡ Connect Frontend â†” Backend routes
            ğŸŸ¡ Secure API routes (auth token)
            ğŸŸ¡ Finalize Supabase queries
            ğŸŸ¡ Admin Deskman wallet logic
            ğŸŸ¡ UI polishing + modals

      - name: Create Cards in Done
        uses: peter-evans/create-project-card@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          column-id: ${{ steps.done.outputs.column_id }}
          note: |
            ğŸŸ¢ Backend set up
            ğŸŸ¢ Frontend hosting working
            ğŸŸ¢ Supabase tables created
            ğŸŸ¢ Admin Deskman base UI complete
            ğŸŸ¢ File structure organized
